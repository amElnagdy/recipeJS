{"version":3,"sources":["src/state.js","src/recipeData.js","src/recipeVideos.js","src/components/videoList/index.js","src/components/recipeDisplay/index.js","src/components/search/index.js","src/index.js"],"names":["state","searchTerm","recipe","videos","video","setState","toSet","newValue","fetchRecipe","API_KEY","url","fetch","then","res","json","data","count","document","querySelector","innerHTML","hits","catch","err","console","log","fetchVideo","YT_API_KEY","items","videoList","markup","forEach","id","videoId","snippet","thumbnails","medium","title","init","Array","from","querySelectorAll","addEventListener","openVideo","e","preventDefault","videoToPlayId","dataset","videoToPlay","filter","removeVideos","videoPlayer","remove","playDefVideo","singleRecipe","image","label","ingredientLines","des","recipeDetails","parseInt","calories","totalNutrients","FAT","quantity","SUGAR","removePreviousRecipe","recipeContainer","recipeDetailsContainer","loadVideosClick","button","loadVideos","classList","toggle","search","doSearch","videosDiv","contains","add","term","value","toLowerCase","loadSpinner","Promise","all","removeSpinner","recipeDetailsMarkup","videoMarkup","insertAdjacentHTML"],"mappings":"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","file":"src.de5e54bb.js","sourceRoot":"..","sourcesContent":["const state = {\n\tsearchTerm: null,\n\trecipe: null,\n\tvideos: null,\n\tvideo: null,\n};\n\nfunction setState(toSet, newValue) {\n\tstate[toSet] = newValue;\n}\n\nexport {state, setState};","import {state} from \"./state\";\n\nexport default function fetchRecipe() {\n\tconst API_KEY = `a78a3c4b083eb79d624c09e09fe86a77`;\n\tconst AppID = `d010c74d`;\n\tconst url = `https://api.edamam.com/search?q=${state.searchTerm}&app_id=${AppID}&app_key=${API_KEY}&rom=0&to=1`;\n\n\tconst markup = `<div style=\"align-items: center; text-align: center\">\n\t<h2 class=\"ui icon header\">\n  <i class=\"close icon\"></i>\n  <div class=\"content\">\n    No Recipes Found\n    <div class=\"sub header\">Make sure you typed the recipe correctly..</div>\n  </div>\n</h2></div>`\n\n\treturn fetch(url)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\tif (data.count== 0) document.querySelector(`#app`).innerHTML = markup;\n\t\treturn data.hits[0]\n\t\t})\n\t\t.catch(err => console.log(err));\n}","import {state} from \"./state\";\n\nexport default function fetchVideo() {\n\n\tconst YT_API_KEY = `AIzaSyAGe_FTMQJMizv6xwYFLtW-beRGMidEzlE`;\n\tconst type = `video`;\n\tconst url = `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=3&key=${YT_API_KEY}&q=${state.searchTerm}%20recipe`;\n\n\treturn fetch(url)\n\t\t.then(res => res.json())\n\t\t.then(data => data.items)\n\t\t.catch(err => console.log(err));\n}","import {state, setState} from \"../../state\";\nimport './index.css'\n\nexport function videoList() {\n\tconst videos = state.videos;\n\n\tlet markup = `<div id=\"video-list\" class=\"ui relaxed divided list\">`;\n\tvideos.forEach(video => {\n\t\tmarkup += `\n\t<div class=\"video-item item\" data-id=\"${video.id.videoId}\">\n\t<img class=\"ui image\" src=\"${video.snippet.thumbnails.medium.url}\" alt=\"${video.snippet.title}\" />\n\t<div class=\"content\">\n\t<div class=\"header\">\n\t${video.snippet.title}\n\t</div>\n</div>\n</div>\n\t`\n\t});\n\tmarkup += `</div>`;\n\treturn markup;\n}\n\nexport function init() {\n\tconst videos = Array.from(document.querySelectorAll(`#video-list .item`));\n\n\tvideos.forEach(video => {\n\t\t\tvideo.addEventListener(`click`, openVideo)\n\t\t}\n\t)\n}\n\nfunction openVideo(e) {\n\te.preventDefault();\n\tconst videoToPlayId = this.dataset.id;\n\tconst videoToPlay = state.videos.filter(video => videoToPlayId == video.id.videoId)[0];\n\tsetState(`video`, videoToPlay);\n\n\tlet markup = `<div id=\"video-player\">\n<iframe width=\"600px\" height=\"500px\" src=\"https://www.youtube.com/embed/${videoToPlay.id.videoId}\" /></div>`\n\n\tconst container = document.querySelector(`#selected-video`);\n\tcontainer.innerHTML = markup;\n\n}\n\nexport function removeVideos() {\n\tconst videoPlayer = document.querySelector(\n\t\t`#video-player`\n\t);\n\tconst videoList = document.querySelector(\n\t\t`#video-list`\n\t);\n\tif (videoList) videoList.remove();\n\tif (videoPlayer) videoPlayer.remove();\n}\n\nexport function playDefVideo() {\n\tconst video = state.video;\n\tlet markup = `<div id=\"video-player\">\n<iframe width=\"600px\" height=\"500px\" src=\"https://www.youtube.com/embed/${video.id.videoId}\" /></div>`\n\n\tconst container = document.querySelector(`#selected-video`);\n\tcontainer.innerHTML = markup;\n\n}","import {state} from \"../../state\";\nimport {playDefVideo} from \"../videoList\";\n\nexport default function singleRecipe() {\n\tconst recipe = state.recipe.recipe;\n\tlet markup = `\n<div id=\"recipe\" class=\"ui items\">\n  <div class=\"item\">\n    <a class=\"ui small image\">\n      <img src=\"${recipe.image}\" alt=\"${recipe.label}\" />\n    </a>\n    <div class=\"content\">\n      <h2 class=\"ui header\">${recipe.label}</h2>\n      <div class=\"description\">\n      <ul>`;\n\tconst description = recipe.ingredientLines;\n\tdescription.forEach(des => (\n\t\t\tmarkup += `<li>${des}</li>`\n\t\t)\n\t);\n\tmarkup += `</ul>\n      </div>\n    </div>\n  </div>\n  <button class=\"load-videos ui button\">Load Videos</button>\n</div>\n`;\n\treturn markup;\n}\n\nexport function recipeDetails() {\n\tconst recipe = state.recipe.recipe;\nconst markup = `\n<h2 class=\"ui header\">Nutrition Facts</h2>\n<table class=\"ui celled table\">\n  <thead>\n    <tr><th>Calories</th>\n    <th>Fat</th>\n    <th>Sugar</th>\n  </tr></thead>\n  <tbody>\n    <tr>\n      <td data-label=\"calroeis\">${parseInt(recipe.calories)}</td>\n      <td data-label=\"fat\">${parseInt(recipe.totalNutrients.FAT.quantity)}</td>\n      <td data-label=\"sugare\">${parseInt(recipe.totalNutrients.SUGAR.quantity)}</td>\n    </tr>\n  </tbody>\n</table>`;\n\nreturn markup;\n}\n\n\nexport function removePreviousRecipe() {\nconst recipeContainer = document.querySelector(\n`#recipe`\n);\nif (recipeContainer) recipeContainer.remove();\n\n\tconst recipeDetailsContainer = document.querySelector(\n\t\t`#details`\n\t);\n\tif (recipeDetailsContainer) recipeDetailsContainer.innerHTML=``;\n}\n\nexport function loadVideosClick() {\nconst button = document.querySelector(`.load-videos`);\nbutton.addEventListener(`click`, loadVideos);\nbutton.addEventListener(`click`, playDefVideo)\n}\n\nfunction loadVideos() {\nconst videosDiv = document.querySelector(`#videos-container`)\n\t\tvideosDiv.classList.toggle(`hidden`);\n}","import {setState} from \"../../state\";\nimport fetchRecipe from \"../../recipeData\";\nimport fetchVideo from \"../../recipeVideos\";\nimport singleRecipe, {recipeDetails, removePreviousRecipe} from \"../recipeDisplay\";\nimport {videoList, removeVideos, init as initVideoList} from \"../videoList\";\nimport {loadVideosClick} from \"../recipeDisplay\";\n\n\nexport default function search() {\n\n\treturn `<div class=\"ui segment\">\n\t<h1>Search for a Recipe</h1>\n    <form name=\"search\" id=\"search\" class=\"ui form\">\n    <div class=\"field\">\n      <label for=\"search-field\">Enter Search Term Below:</label>\n      <input id=\"search-field\" name=\"search\" type=\"search\" />\n      </div>\n      <input class=\"ui button\" type=\"submit\" id=\"submit\" value=\"Search\" />\n    </form></div>`\n}\n\nexport function init() {\n\tconst search = document.querySelector(`#search`);\n\tsearch.addEventListener(`submit`, doSearch);\n}\n\nasync function doSearch(e) {\n\te.preventDefault();\n\tremovePreviousRecipe();\n\tremoveVideos();\n\n\t//fix videos list keep showing while doing another search\n\tconst videosDiv = document.querySelector(`#videos-container`)\n\tif (!videosDiv.classList.contains(`hidden`)) videosDiv.classList.add(`hidden`);\n\n\tconst term = document.querySelector(`#search-field`).value.toLowerCase();\n\tsetState(`searchTerm`, term);\n\n\tloadSpinner();\n\n\tlet [recipe, videos] = await Promise.all([fetchRecipe(), fetchVideo()]);\n\tif (recipe)\n\t{setState(`recipe`, recipe);}\n\tsetState(`videos`, videos);\n\tsetState(`video`, videos[0]); // Assign the first video to state.video\n\n\n\tremoveSpinner();\n\n\t//Display Recipe\n\n\tif (recipe != null) {\n\t\tconst markup = singleRecipe();\n\t\tconst recipeDetailsMarkup = recipeDetails();\n\t\t// document.querySelector(`#app`).insertAdjacentHTML(`beforeend`, markup);\n\t\tdocument.querySelector(`#app`).innerHTML = markup;\n\t\tdocument.querySelector(`#details`).innerHTML = recipeDetailsMarkup;\n\n\n\t//Display a button to load videos\n\tloadVideosClick();}\n\n\t// Videos:\n\tconst videoMarkup = videoList();\n\tdocument.querySelector(`#videos`).insertAdjacentHTML(`beforeend`, videoMarkup);\n\tinitVideoList();\n}\n\nfunction loadSpinner() {\n\n\tconst markup = `<div id=\"spinner\">\n  <div class=\"ui inverted active dimmer\">\n    <div class=\"ui massive text loader\">Fetching your recipe..</div>\n  </div>\n  <p></p>\n  <p></p>\n  <p></p>\n</div>`\n\tdocument.querySelector(`#main`).insertAdjacentHTML(`beforeend`, markup);\n\n}\n\nfunction removeSpinner() {\n\tconst spinner = document.querySelector(`#spinner`);\n\tspinner.remove();\n\n}","import search, {init as initSearch} from \"./components/search\";\r\n\r\nfunction init() {\r\nlet markup = search();\r\ndocument.querySelector(`#main`).insertAdjacentHTML(`afterbegin`, markup);\r\ninitSearch()\r\n}\r\ninit();\r\n"]}